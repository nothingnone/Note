<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-641ab615-a56f-4800-835c-bb63dd01ff62"></attachment><ul data-checked="false"><li>learn Cmake</li><li>link bridge</li><li>test cam</li></ul><p><br></p><p>CMAKE</p><p><br></p><p><br></p><pre class="ql-syntax" spellcheck="false"># must!
cmake_minimum_required(VERSION 3.x)
# must!
project($projectname)

# attention! if change cmakelist, build dir (cache dir) should be del

# add sourcefile
add_executable($projectname $srcdir/sourcefilename;$another)
add_executable($projectname 
  $sourcefilename
  $another
)

# config variable in cmake
project($projname VERSION 1.0)
# ep: define in t.h
# t.h
# #define a @$projname_VERSION_MAJOR@ 
configure_file(t.h.in t.h)
# above -&gt; a binary willbe created
# add binary
target_include_directories($projname PUBLIC
                            ${PROJECT_BINARY_DIR})
# above -&gt; during compile, @x@ will be repalced by var in CMAEK

# expilict c++ shandard
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# build and link
mkdir build
cd build
cmake ../
cmake --build

# add a lib in a subdir
# in subdir, new a cmakelist.txt and input -&gt; below
add_library($libname $libsrcname.cpp)
# in main cmakelist
# add dir to tree, add include
add_subdirectory($subdirname)
target_include_directories($projname PUBLIC ${PROJECT_SOURCE_DIR}/$subdirname)

# tipsÔºÅ
# all the variable can be "/path" /path ${var} "${var}"
# but message("xxx")

# macro to use a lib
option(USE_MYMATH "Use tutorial provided math implementation" ON)
if(USE_MYMATH)
  add_subdirectory(MathFunctions)
  list(APPEND EXTRA_LIBS MathFunctions)
  list(APPEND EXTRA_INCLUDES "${PROJECT_SOURCE_DIR}/MathFunctions")
endif()
# same in .h
# ifdef USE_MYMATH
#   include "MathFunctions.h"
# endif
# same in .h.in
# cmakedefine USE_MYMATH
# use "cmake ../ -DUSE_MYMATH=OFF"

# if there is a lib in proj, before lib been built,
# main source can't be built
# add --&gt;&gt; "depend" &lt;&lt;-- relation

# link dynamic and static libraries



</pre><p><br></p>