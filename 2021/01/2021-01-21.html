<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-643b0b62-b073-4756-bb79-dc246e1925b0"></attachment><ul><li>栈上内存资源的分配与管理，十分重要。</li><li>类设计中，先设计指针，若指针指向对象不变，转换为引用。若对象并非私有，转换为引用。若指针不被对象共享，转换为引用。总而言之，除非对象需要变化地指向并处理私有成员，则允许持有指针。否则持有私有对象（不变化），使用引用（非私有成员）。</li><li>赋值时最易出bug的行为。尽可能少赋值，搞清楚赋值行为的内容。</li><li>引用也是不安全的，当引用对象消亡时引用地址不变，但栈内存可能已经释放。分配动态空间一般较为安全，使用智能指针一般较为安全。不要在类中使用引用成员！</li><li>不同编译器对栈内存的管理、分配策略不同。每次进入函数初始化栈帧，函数内的变量内存根据编译策略预先分配，而函数结束返回，栈帧释放。</li><li>when new，when delete(new[] delete[], after all, use shart_ptr)。when malloc， when free。when point，when exist。</li><li>右值引用详解</li></ul><p><br></p><p><br></p>