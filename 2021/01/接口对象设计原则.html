<p>need</p><p>class A, big member m1, provide get set of m1</p><p>class B ..., get m1, and process data and git result g1,g2,..</p><p>class C, set m1, with s</p><p>tips:</p><ul><li>if get() return copy of m1, huge memory cost</li><li>if get() return refer of m1, while processing, m1 may be changed</li></ul><p>ideal 1 : use lock, if m1 is setting, don't read; if m1 is reading, don't set. </p><ul><li>add a lock in A, check lock when get/set.</li><li class="ql-indent-1">in this case, A need free lock when C completed reading.(difficult to realize) Or C need to free A's lock when finish reading. New problem, C had to lock A, bad design. It just want to know m1.</li><li>what about make B's processing code in A</li><li class="ql-indent-1">bad design, may be many B</li></ul><p>ideal 2: make two object, set-m1 for set, read-m1 for read.</p><ul><li><br></li></ul><attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-4e0c59dc-ba22-42a8-8079-eb1f3b8c3726"></attachment><p><br></p>